<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>title</title>
    <style>

        body, html {
        padding: 0;
          height: 638px;
          /* width: 498px; dinamically set using URL params and JS */
          overflow: hidden;
          margin: 0;
          display: flex;
          flex: 1 0;
        }
        iframe {
          border: none;
        }

    </style>
  </head>
  <body>
    <script>
      // When the iframe has loaded
      function getParameterByName(name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, '\\$&');
        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, ' '));
    }

    // Retrieve width parameter (if any), default to '498'
    var widthParam = getParameterByName('width');
    var pageWidth = widthParam ? widthParam : '498';
    document.documentElement.style.width = pageWidth + 'px';
    document.body.style.width = pageWidth + 'px';

    // Get the URL parameter 'url'
    var urlParam = getParameterByName('url');

    console.log('urlParam: ', urlParam);

    // Create an iframe with the specified URL
    var iframe = document.createElement('iframe');
    iframe.src = urlParam;
    iframe.width = '100%';
    iframe.fetchpriority = "auto";
    iframe.sandbox = "allow-same-origin allow-scripts allow-downloads allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-storage-access-by-user-activation allow-top-navigation-by-user-activation";
    iframe.allow="accelerometer; autoplay; camera; microphone; gyroscope; payment; challenges.cloudflare.com; about:blank; about:srcdoc"
    // iframe.sandbox = "allow-same-origin allow-scripts allow-downloads allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-storage-access-by-user-activation allow-top-navigation-by-user-activation";
    iframe.style.display = 'none';  // Hide the iframe initially

    // Append the iframe to the body
    document.body.appendChild(iframe);

    // Wait for the iframe to load before displaying it
    iframe.onload = function() {
        iframe.style.display = 'block';  // Show the iframe after it has loaded
    };
  </script>
</body>

  </iframe>
  </body>
</html>
